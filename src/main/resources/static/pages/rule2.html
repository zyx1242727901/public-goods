<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>游戏中</title>
  <link rel="stylesheet" type="text/css" href="../css/login.css"/>
  <script src="https://cdn.jsdelivr.net/npm/vue"></script>
</head>
<body>
<div id="rule" style="left: 35%">
  <h1>游戏开始,请认真阅读规则:</h1></br>
  <img src="../img/rule.png" style="height: 100%">
  <br>
  <input  type="submit" value="继续" @click="gotopage()" style=" width: 80px;height: 40px; "/>
</div>
</body>
<script>
  new Vue({
    el: "#rule",
    data:{
      userName:"",
      versionType:""
    },
    mounted:function(){
      this.getParam()
      var username=this.userName
      var versionType = this.versionType
      document.onkeydown=function (e) {
        if (e.keyCode == 32) {
          location.href="warning.html?userName="+username+"&versionType="+versionType
        }
      };
    },
    methods:{
      gotopage(){
        var username=this.userName
        var versionType=this.versionType
        location.href="warning.html?userName="+username+"&versionType="+versionType
      },
      getParam(){
        var url = location.search //获取url中"?"符后的字串 ('?modFlag=business&role=1')
        var theRequest = new Object()
        if (url.indexOf('?') != -1) {
          var str = url.substr(1) //substr()方法返回从参数值开始到结束的字符串；
          var strs = str.split('&')
          for (var i = 0; i < strs.length; i++) {
            theRequest[strs[i].split('=')[0]] = strs[i].split('=')[1]
          }
          this.userName = theRequest.userName
          this.versionType = theRequest.versionType
        }
      }

    }
  })
</script>
<style>
  #rule{
    position: absolute;
    top: 30%;
    left:40%;
    margin: -150px 0 0 -150px;
    width: 400px;
    height: 400px;
  }
</style>
</html>