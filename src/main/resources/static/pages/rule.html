<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>游戏中</title>
    <link rel="stylesheet" type="text/css" href="../css/login.css"/>
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
</head>
<body>
    <div id="rule" style="left: 35%">
        <h1>游戏开始,请认真阅读规则:</h1></br>
       <img src="../img/rule.png" style="height: 100%">
    </div>
</body>
<script>
  new Vue({
      el: "#rule",
      data:{
          userName:"",
          roomId:""
      },
      mounted:function(){
          this.getParam()
          var username=this.userName
          var roomid = this.roomId
          document.onkeydown=function (e) {
              if (e.keyCode == 32) {
                  location.href="game.html?userName="+username+"&roomId="+roomid+"&round=1"
              }
          };
      },
      methods:{
          getParam(){
              var url = location.search //获取url中"?"符后的字串 ('?modFlag=business&role=1')
              var theRequest = new Object()
              if (url.indexOf('?') != -1) {
                  var str = url.substr(1) //substr()方法返回从参数值开始到结束的字符串；
                  var strs = str.split('&')
                  for (var i = 0; i < strs.length; i++) {
                      theRequest[strs[i].split('=')[0]] = strs[i].split('=')[1]
                  }
                  this.userName = theRequest.userName
                  this.roomId = theRequest.roomId
              }
          }

      }
  })
</script>
<style>
    #rule{
        position: absolute;
        top: 30%;
        left:40%;
        margin: -150px 0 0 -150px;
        width: 400px;
        height: 400px;
    }
</style>
</html>