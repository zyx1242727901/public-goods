<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
    <link rel="stylesheet" type="text/css" href="../css/login.css"/>
    <script src="../js/axios-0.18.0.js"></script>
</head>
<body>
<div id="login">
    <h1>Login</h1>
        <span style="color:greenyellow">subject Number:</span>
        <input type="text" required="required" placeholder="subjectNumber" name="userName" id="userName" required="required"/>
        <span style="color:greenyellow">Age:</span>
        <input type="number" required="required" placeholder="Age" name="age" id="age" required="required"/>
        <span style="color:greenyellow">Gender2:</span>
        <select name="gender" id="gender">
            <option value="MALE" style="color:greenyellow">男</option>
            <option value="FE_MALE" style="color:greenyellow">女</option>
        </select>
        <input  type="submit" value="登录" @click="login()" style=" width: 300px;height: 40px; "></input>
</div>
</body>
<!-- 引入组件库 -->
<script src="../js/vue.js"></script>
<script src="../plugins/elementui/index.js"></script>
<script type="text/javascript" src="../js/jquery.min.js"></script>
<script src="../js/axios-0.18.0.js"></script>
<script src="../js/jquery-heima-0.0.1.js"></script>
<script>
  new Vue({
    backend_url:"http://localhost:8888",
    el:'#login',
    methods: {
      login(){
        var username = $("#userName").val();
        var age = $("#age").val();
        var gender = $("#gender").val();
        console.log("user:"+username+"age:"+age);
        axios.get("/api/goods/user/"+username+"/"+age+"/"+gender+"/login")
        .then((response) => {
          console.log(response);
          if(response.data.code == 'SUCCESS'){
            location.href="rule.html";
          }else{
            alert(response.data.message)
          }
        });

      }
    }
  })
</script>
</html>